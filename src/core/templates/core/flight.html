{% extends "core/base_dashboard.html" %}
{% load i18n static %}

{% block title %}
	Flights
{% endblock title %}

{% block main-content %}
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Flights</h1>
    </div>

	<!-- form -->
	<form method="post">
		{% csrf_token %}
		{{ form.non_field_errors }}

		{{ form.errors }}

		<!-- form.aircraft -->
		<div class="row mb-3">
			<label for="{{ form.aircraft.id_for_label }}" class="col-sm-2 col-form-label">
				Aircraft
			</label>
			<div class="col-sm-10">
				{{ form.aircraft }}
			</div>
		</div>
		<!-- /form.aircraft -->

		<!-- form.origin -->
		<div class="row mb-3">
			<label for="{{ form.origin.id_for_label }}" class="col-sm-2 col-form-label">
				Origin
			</label>
			<div class="col-sm-10">
				{{ form.origin }}
			</div>
		</div>
		<!-- /form.origin -->

		<!-- form.destination -->
		<div class="row mb-3">
			<label for="{{ form.destination.id_for_label }}" class="col-sm-2 col-form-label">
				Desgination
			</label>
			<div class="col-sm-10">
				{{ form.destination }}
			</div>
		</div>
		<!-- /form.destination -->

		<!-- form.departure -->
		<div class="row mb-3">
			<label for="{{ form.departure.id_for_label }}" class="col-sm-2 col-form-label">
				Departure
			</label>
			<div class="col-sm-10">
				{{ form.departure }}
			</div>
		</div>
		<!-- /form.departure -->

		<!-- form.arrival -->
		<div class="row mb-3">
			<label for="{{ form.arrival.id_for_label }}" class="col-sm-2 col-form-label">
				Arrival
			</label>
			<div class="col-sm-10">
				{{ form.arrival }}
			</div>
		</div>
		<!-- /form.arrival -->

		<button type="submit" class="btn btn-primary">Save</button>
	</form>
	<!-- /form -->

	<hr/>

	<div class="table-responsive">
		<table class="table">
			<thead>
				<tr>
					<th scope="col">Aricraft</th>
					<th scope="col">Origin</th>
					<th scope="col">Destination</th>
					<th scope="col">Flight Time</th>
				</tr>
			</thead>
			<tbody>
            {% for flight in object_list %}
				<tr>
					<th scope="row">{{ flight.aircraft.name }}</th>
					<td>{{ flight.origin.name }}</td>
					<td>{{ flight.destination.name }}</td>
					<td>{{ flight.flight_time }}</td>
				</tr>
            {% endfor %}
			</tbody>
		</table>
	</div>
{% endblock main-content %}


{% block scripts %}
<script type="module">
flatpickr(".datetimepicker", {
	enableTime: true,
	minDate: "today",
	dateFormat: "Y/m/d h:i K",
});
</script>
{% endblock scripts %}
